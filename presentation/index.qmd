---
title: "How CI/CD Enhances the Development of R packages in the Pharmaverse"
subtitle: |
  R/Pharma

  November 10th, 2022

  Ben Straub (GSK) & Craig Gower-Page (Roche)
execute:
  echo: false
  warning: false
  error: false
  eval: true
  output: asis
  comment: ''
format:
  revealjs:
    slide-number: true
    chalkboard:
      buttons: false
    preview-links: auto
    logo: https://avatars.githubusercontent.com/u/84541169
    footer: <[CI-CD GitHub](https://github.com/pharmaverse/cicdworkshop.rinpharma2022)>
    theme: [simple, custom.scss]
    from: markdown+emoji
    link-external-icon: true
    link-external-newwindow: true
---

```{r}
render_file <- function(filepath, language = "yaml") {
  cat(paste0("```", language, "\n"))
  cat(readLines(filepath), sep = "\n")
  cat("```\n")
}
```

## What is CI/CD?

## Benefits of using CI/CD

::: columns
::: {.column width="45%"}
::: {.incremental}
- Multiple Contributors on your R Package ⌨️
- User base on multiple OSes and multiple R versions `r fontawesome::fa("users", "green")`
- Faster turnaround on Pull Requests ☑️
:::
:::

::: {.column width="45%"}
::: {.incremental}
- Catch issues (bugs) early on `r fontawesome::fa("bug", "red")`
- Enforce style conventions and preferences `r fontawesome::fa("pencil-square", "green")`
- Measure test coverage for new code `r fontawesome::fa("car-burst", "green")`
- Keep docs up-to-date `r fontawesome::fa("book", "red")`
:::
:::
:::

## Use cases where CI/CD was beneficial

For Admiral, NEST and RBMI.

## Package Integrity Checks

Common workflows

::: columns
::: {.column width="45%"}
::: {.incremental}
1. Unit Tests &nbsp; &nbsp; `r fontawesome::fa("code", "red")`
2. Link & URL Checks &nbsp; &nbsp;`r fontawesome::fa("link", "green")`
3. Spelling Checks &nbsp; &nbsp;`r fontawesome::fa("pen", "blue")`
4. Static Code Analysis &nbsp; &nbsp;`r fontawesome::fa("file-lines", "red")`
:::
:::

::: {.column width="45%"}
::: {.incremental}
5. Manual Pages &nbsp; &nbsp;`r fontawesome::fa("book", "green")`
6. Code Style &nbsp; &nbsp;`r fontawesome::fa("scroll", "red")`
7. Test Coverage &nbsp; &nbsp;`r fontawesome::fa("car-burst", "green")`
8. Publishing a pkgdown site &nbsp; &nbsp;`r fontawesome::fa("wifi", "blue")`
:::
:::
:::


## Check Templates

For Admiral, how checking ADAM templates works and why it's needed.

## Shiny App Testing

How NEST run Shiny apps tests

## Cross-sytem checks

Windows, Mac etc testing for CRAN compatibility

## Other notes

Cover the basics of CI/CD.

Explain the benefits of using CI/CD.

How do repetitive tasks get done automatically.

Fighting the limitations of CRAN,
Checking in-house environments


CI/CD for Assessment, validation.

From  a Pharma perspective, how does it do it.


Problem, solution approach to the problem: Solutions per project.
And as part of the solution, discuss features that were used?
